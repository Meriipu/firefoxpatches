From 58f79ea9aa38cfb89bddb1a0e560c6ac2e1f0b23 Mon Sep 17 00:00:00 2001
From: Meriipu <Meriipu@users.noreply.github.com>
Date: Sat, 12 Sep 2020 05:26:22 +0200
Subject: [PATCH 1/8] restore click-selection behaviour to searchbar

* doubleclicking selects all
* singleclicking selects nothing
---
 browser/components/search/content/searchbar.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/browser/components/search/content/searchbar.js b/browser/components/search/content/searchbar.js
index fd9035df4451..e8b68532445e 100644
--- a/browser/components/search/content/searchbar.js
+++ b/browser/components/search/content/searchbar.js
@@ -451,7 +451,8 @@
         document.activeElement == this._textbox &&
         this._textbox.selectionStart == this._textbox.selectionEnd
       ) {
-        this.select();
+        //this.select();
+        this._textbox.editor.selectsAll();
       }
     }
 
@@ -552,6 +553,13 @@
           // is text in the textbox.
           this.openSuggestionsPanel(true);
         }
+
+        // select everything (doubleclick)
+        if (event.detail == 2)
+        {
+          this._textbox.editor.selectAll();
+          event.preventDefault();
+        }
       });
     }
 
-- 
2.28.0

