From 73aad992aeb61d29397162f4342eb8d745295701 Mon Sep 17 00:00:00 2001
From: Meriipu <Meriipu@users.noreply.github.com>
Date: Mon, 12 Oct 2020 02:17:08 +0200
Subject: [PATCH 1/9] restore click-selection behaviour to searchbar

* doubleclicking selects all
* singleclicking selects nothing
---
 browser/components/search/content/searchbar.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/browser/components/search/content/searchbar.js b/browser/components/search/content/searchbar.js
index 347e78b1dc54..669d96ebde94 100644
--- a/browser/components/search/content/searchbar.js
+++ b/browser/components/search/content/searchbar.js
@@ -453,7 +453,8 @@
         document.activeElement == this._textbox &&
         this._textbox.selectionStart == this._textbox.selectionEnd
       ) {
-        this.select();
+        //this.select();
+        this._textbox.editor.selectsAll();
       }
     }
 
@@ -554,6 +555,13 @@
           // is text in the textbox.
           this.openSuggestionsPanel(true);
         }
+
+        // select everything (doubleclick)
+        if (event.detail == 2)
+        {
+          this._textbox.editor.selectAll();
+          event.preventDefault();
+        }
       });
     }
 
-- 
2.28.0

