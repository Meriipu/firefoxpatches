From 4fb5630efca3dbe03d791f9628421d147b4901fc Mon Sep 17 00:00:00 2001
From: Meriipu <Meriipu@users.noreply.github.com>
Date: Tue, 28 Jul 2020 22:41:16 +0200
Subject: [PATCH 1/8] restore click-selection behaviour to searchbar

* doubleclicking selects all
* singleclicking selects nothing
---
 browser/components/search/content/searchbar.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/browser/components/search/content/searchbar.js b/browser/components/search/content/searchbar.js
index 11b699ddbc64..b4ee1ae58b0b 100644
--- a/browser/components/search/content/searchbar.js
+++ b/browser/components/search/content/searchbar.js
@@ -451,7 +451,8 @@
         document.activeElement == this._textbox &&
         this._textbox.selectionStart == this._textbox.selectionEnd
       ) {
-        this.select();
+        //this.select();
+        this._textbox.editor.selectsAll();
       }
     }
 
@@ -552,6 +553,13 @@
           // is text in the textbox.
           this.openSuggestionsPanel(true);
         }
+
+        // select everything (doubleclick)
+        if (event.detail == 2)
+        {
+          this._textbox.editor.selectAll();
+          event.preventDefault();
+        }
       });
     }
 
-- 
2.28.0

