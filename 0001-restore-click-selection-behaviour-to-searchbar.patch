From cc7791c990569e74f92fc8ffc0825c7d27d5fbba Mon Sep 17 00:00:00 2001
From: Meriipu <Meriipu@users.noreply.github.com>
Date: Sat, 11 Jul 2020 22:00:19 +0200
Subject: [PATCH 1/8] restore click-selection behaviour to searchbar

* doubleclicking selects all
* singleclicking selects nothing
---
 browser/components/search/content/searchbar.js | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

diff --git a/browser/components/search/content/searchbar.js b/browser/components/search/content/searchbar.js
index b06b57324777..63e5b071c3c9 100644
--- a/browser/components/search/content/searchbar.js
+++ b/browser/components/search/content/searchbar.js
@@ -451,7 +451,8 @@
         document.activeElement == this._textbox &&
         this._textbox.selectionStart == this._textbox.selectionEnd
       ) {
-        this.select();
+        //this.select();
+        this._textbox.editor.selectsAll();
       }
     }
 
@@ -573,6 +574,13 @@
           // is text in the textbox.
           this.openSuggestionsPanel(true);
         }
+
+        // select everything (doubleclick)
+        if (event.detail == 2)
+        {
+          this._textbox.editor.selectAll();
+          event.preventDefault();
+        }
       });
     }
 
-- 
2.27.0

